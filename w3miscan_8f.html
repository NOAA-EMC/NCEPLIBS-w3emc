<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: w3miscan.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('w3miscan_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">w3miscan.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Reads 1 ssm/i scan line from bufr d-set.  
<a href="#details">More...</a></p>

<p><a href="w3miscan_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:afdde0d874410648935ffd0d1c5457321"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#afdde0d874410648935ffd0d1c5457321">misc01</a> (NNALG, GBALG, KDATA, SWNN, TPWNN, SWGB, NRFGB)</td></tr>
<tr class="memdesc:afdde0d874410648935ffd0d1c5457321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares for in-line caluclation of prods.  <a href="w3miscan_8f.html#afdde0d874410648935ffd0d1c5457321">More...</a><br /></td></tr>
<tr class="separator:afdde0d874410648935ffd0d1c5457321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde6036e077def96f8071397d2eec3f5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#acde6036e077def96f8071397d2eec3f5">misc04</a> (INLSF, BLAT, BLNG, LSTAG)</td></tr>
<tr class="memdesc:acde6036e077def96f8071397d2eec3f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns land/sea tag for given lat/lon.  <a href="w3miscan_8f.html#acde6036e077def96f8071397d2eec3f5">More...</a><br /></td></tr>
<tr class="separator:acde6036e077def96f8071397d2eec3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee0202db29014a39612fd133a9ca421"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#a7ee0202db29014a39612fd133a9ca421">misc05</a> (INLSF, NUMRGN,)</td></tr>
<tr class="memdesc:a7ee0202db29014a39612fd133a9ca421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads 2 records from land/sea tag database.  <a href="w3miscan_8f.html#a7ee0202db29014a39612fd133a9ca421">More...</a><br /></td></tr>
<tr class="separator:a7ee0202db29014a39612fd133a9ca421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded626863c4df7539accbced4b6ab799"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#aded626863c4df7539accbced4b6ab799">misc06</a> (INGBI, INGBD, IDAT1, IDAT2,,,,)</td></tr>
<tr class="memdesc:aded626863c4df7539accbced4b6ab799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in nh and sh 1-deg.  <a href="w3miscan_8f.html#aded626863c4df7539accbced4b6ab799">More...</a><br /></td></tr>
<tr class="separator:aded626863c4df7539accbced4b6ab799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda71e84fc0a136a1b9de35eb6c02d19"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#adda71e84fc0a136a1b9de35eb6c02d19">misc10</a> (X, Y)</td></tr>
<tr class="memdesc:adda71e84fc0a136a1b9de35eb6c02d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc.  <a href="w3miscan_8f.html#adda71e84fc0a136a1b9de35eb6c02d19">More...</a><br /></td></tr>
<tr class="separator:adda71e84fc0a136a1b9de35eb6c02d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6edc5e68c541091294d41f99e804a05e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#a6edc5e68c541091294d41f99e804a05e">risc02</a> (XT, V, L, SST, JERR)</td></tr>
<tr class="memdesc:a6edc5e68c541091294d41f99e804a05e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc.  <a href="w3miscan_8f.html#a6edc5e68c541091294d41f99e804a05e">More...</a><br /></td></tr>
<tr class="separator:a6edc5e68c541091294d41f99e804a05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b77772e4547b0f74a9b1c669a839be6"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#a4b77772e4547b0f74a9b1c669a839be6">risc02xx</a> (X)</td></tr>
<tr class="memdesc:a4b77772e4547b0f74a9b1c669a839be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc.  <a href="w3miscan_8f.html#a4b77772e4547b0f74a9b1c669a839be6">More...</a><br /></td></tr>
<tr class="separator:a4b77772e4547b0f74a9b1c669a839be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30ceca6f563c3f755520f227e068930"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#ac30ceca6f563c3f755520f227e068930">risc03</a> (X)</td></tr>
<tr class="memdesc:ac30ceca6f563c3f755520f227e068930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc.  <a href="w3miscan_8f.html#ac30ceca6f563c3f755520f227e068930">More...</a><br /></td></tr>
<tr class="separator:ac30ceca6f563c3f755520f227e068930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1352ee5db91f6a057c1378cf9b00df1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3miscan_8f.html#af1352ee5db91f6a057c1378cf9b00df1">w3miscan</a> (INDTA, INLSF, INGBI, INGBD, LSAT, LPROD, LBRIT, NNALG, GBALG, KDATE, LDATE, IGNRTM, IBUFTN, IBDATE, IER)</td></tr>
<tr class="memdesc:af1352ee5db91f6a057c1378cf9b00df1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one ssm/i scan line (64 retrievals) from the NCEP bufr ssm/i dump file.  <a href="w3miscan_8f.html#af1352ee5db91f6a057c1378cf9b00df1">More...</a><br /></td></tr>
<tr class="separator:af1352ee5db91f6a057c1378cf9b00df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reads 1 ssm/i scan line from bufr d-set. </p>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-07-30 </dd></dl>

<p class="definition">Definition in file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="afdde0d874410648935ffd0d1c5457321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdde0d874410648935ffd0d1c5457321">&#9670;&nbsp;</a></span>misc01()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine misc01 </td>
          <td>(</td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>NNALG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>GBALG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(7)&#160;</td>
          <td class="paramname"><em>KDATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SWNN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>TPWNN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SWGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NRFGB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares for in-line caluclation of prods. </p>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-01-04 Based on input 7-channel ssm/i brightness temperatures, determines the rain flag category for wind speed product for the goodberlet algorithm. Then calls the appropriate function to calculate either the wind speed product for the goodberlet algorithm (if requested) or the wind speed and tpw products for the neural net 3 algorithm (if requested).</dd></dl>
<h3><a class="anchor" id="autotoc_md70"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">????-??-?? </td><td class="markdownTableBodyNone">W. Gemmill </td><td class="markdownTableBodyNone">(w/nmc21) &ndash; original author  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1995-01-04 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">&ndash; incorporated into w3miscan and  </td></tr>
</table>
<p>streamlined code 1996-05-07 | Dennis Keyser | (np22) &ndash; in-line neural network 1 algoritm replaced by neural network 2 algorithm 1996-07-30 | Dennis Keyser | (np22) &ndash; can now process wind speed from both algorithms if desired 1998-01-28 | Dennis Keyser | (np22) &ndash; replaced neural net 2 algorithm which calculated only wind speed product with neural net 3 algorithm which calculates both wind speed and total precipitable water products (among others) but, unlike nn2, does not return a rain flag value (it does set all retrievals to missing that fail rain flag and ice contamination tests)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">NNALG</td><td>Process wind speed and tpw via neural net 3 algorithm if true </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GBALG</td><td>Process wind speed via goodberlet algorithm if true </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KDATA</td><td>7-word array containing 7 channels of brightness temperature (kelvin x 100) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">SWNN</td><td>alculated wind speed based on neural net 3 algorithm (meters/second) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TPWNN</td><td>Calculated total column precipitable water based on neural net 3 algorithm (millimeters) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">SWGB</td><td>Calculated wind speed based on goodberlet algorith (meters/second) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">NRFGB</td><td>Rain flag category for calculated wind speed from goodberlet algorithm</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If an algorithm is not chosen, the output products are set to values of 99999. for that algorithm and, for the goodberlet algorithm only, the rain flag is set to 99999. Called by subroutine <a class="el" href="w3miscan_8f.html#af1352ee5db91f6a057c1378cf9b00df1" title="Reads one ssm/i scan line (64 retrievals) from the NCEP bufr ssm/i dump file.">w3miscan()</a>.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-01-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01007">1007</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="acde6036e077def96f8071397d2eec3f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde6036e077def96f8071397d2eec3f5">&#9670;&nbsp;</a></span>misc04()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine misc04 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INLSF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>BLAT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>BLNG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LSTAG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns land/sea tag for given lat/lon. </p>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-01-04 Finds and returns the low resolution land/sea tag nearest to the requested latitude and longitude.</dd></dl>
<h3><a class="anchor" id="autotoc_md77"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1978-01-20 </td><td class="markdownTableBodyNone">J. K. Kalinowski (S11213) </td><td class="markdownTableBodyNone">Original author  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1978-10-03 </td><td class="markdownTableBodyNone">J. K. Kalinowski (S1214) </td><td class="markdownTableBodyNone">Changes unknown  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1985-03-01 </td><td class="markdownTableBodyNone">N. Digirolamo (SSAI) </td><td class="markdownTableBodyNone">Conversion to vs fortran  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1995-01-04 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Incorporated into w3miscan and streamlined code  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">INLSF</td><td>Unit number of direct access nesdis land/sea file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BLAT</td><td>Latitude (whole degrees: range is 0. to +90. north, 0. to -90. south) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BLNG</td><td>Longitude (whole degrees: range is 0. to +179.99 east, 0. to -180. west) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">LSTAG</td><td>Land/sea tag {=0 - sea; =1 - land; =2 - coastal interface (higher resolution tags are available); =3 - coastal interface (no higher resolution tags exist)}</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Called by subroutine w3miscan.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-01-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01449">1449</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="a7ee0202db29014a39612fd133a9ca421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee0202db29014a39612fd133a9ca421">&#9670;&nbsp;</a></span>misc05()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine misc05 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INLSF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NUMRGN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads 2 records from land/sea tag database. </p>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>195-01-04 Reads two records from a low resolution land/sea database and stores into common.</dd></dl>
<h3><a class="anchor" id="autotoc_md78"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1978-01-20 </td><td class="markdownTableBodyNone">J. K. Kalinowski (S11213) </td><td class="markdownTableBodyNone">Original author  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1995-01-04 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Incorporated into w3miscan and  </td></tr>
</table>
<p>streamlined code; modified to be machine independent thru use of standard fortran direct access read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">INLSF</td><td>Unit number of direct access nesdis land/sea file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NUMRGN</td><td>The region (1,2 or 3) of the database to be accessed (dependent on latitude band)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Called by subroutne misc04.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>195-01-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01518">1518</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="aded626863c4df7539accbced4b6ab799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded626863c4df7539accbced4b6ab799">&#9670;&nbsp;</a></span>misc06()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine misc06 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INGBI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INGBD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(5)&#160;</td>
          <td class="paramname"><em>IDAT1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(5)&#160;</td>
          <td class="paramname"><em>IDAT2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads in nh and sh 1-deg. </p>
<p>sea-sfc temps. </p><dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>200-02-18 Reads in global sea-surface temperature field on a one-degree grid from grib file.</dd></dl>
<h3><a class="anchor" id="autotoc_md79"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">????-??-?? </td><td class="markdownTableBodyNone">W. Gemmill (NP21) </td><td class="markdownTableBodyNone">Original author  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1995-01-04 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Incorporated into w3miscan and  </td></tr>
</table>
<p>streamlined code; converted sst input file from vsam/on84 to grib to allow code compile and run on the cray machines. 2000-02-18 | Dennis Keyser | Modified to call w3lib routine "getgb", this allows code to compile and run properly on ibm-sp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">INGBI</td><td>Unit number of grib index file for grib file containing global 1-degree sea-surface temp field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">INGBD</td><td>Unit number of grib file containing global 1-degree sea-surface temp field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IDAT1</td><td>Requested earliest year(yyyy), month, day, hour, min </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IDAT2</td><td>Requested latest year(yyyy), month, day, hour, min</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Called by subroutine w3miscan.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>200-02-18 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01569">1569</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="adda71e84fc0a136a1b9de35eb6c02d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda71e84fc0a136a1b9de35eb6c02d19">&#9670;&nbsp;</a></span>misc10()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine misc10 </td>
          <td>(</td>
          <td class="paramtype">dimension(in)&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dimension(out)&#160;</td>
          <td class="paramname"><em>Y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calc. </p>
<p>ssm/i prods from neural net 3 alg. </p><dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-07-15 This nn calculates w (in m/s), v (in mm), l (in mm), and sst (in deg c). This nn was trained on blended f11 data set (ssmi/buoy matchups plus ssmi/ows matchups 15 km x 15 min) under clear + cloudy conditions.</dd></dl>
<h3><a class="anchor" id="autotoc_md74"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1996-07-15 </td><td class="markdownTableBodyNone">V. Krasnopolsky </td><td class="markdownTableBodyNone">Initial.  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">X</td><td>5-word array containing brightness temperature in the order: t19v (word 1), t19h (word 2), t22v (word 3), t37v (word 4), t37h (word 5) (all in kelvin) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Y</td><td>4-word array containing calculated products in the order: wind speed (m/s) (word 1), columnar water vapor (total precip. water) (mm) (word 2), columnar liquid water (mm) (word 3), sea surface temperature (deg. c) (word 4)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Called by subroutine <a class="el" href="w3miscan_8f.html#a6edc5e68c541091294d41f99e804a05e" title="Calc.">risc02()</a>.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-07-15 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01238">1238</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="a6edc5e68c541091294d41f99e804a05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6edc5e68c541091294d41f99e804a05e">&#9670;&nbsp;</a></span>risc02()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function risc02 </td>
          <td>(</td>
          <td class="paramtype">real, dimension(7)&#160;</td>
          <td class="paramname"><em>XT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>SST</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>JERR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calc. </p>
<p>ssm/i prods from neural net 3 alg. </p><dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1997-02-02 This retrieval algorithm is a neural network implementation of the ssm/i transfer function. It retrieves the wind speed (w) at the height 20 meters, columnar water vapor (v), columnar liquid water (l) and sst. The nn was trained using back-propagation algorithm. Transfer function is described and compared with cal/val and other algorithms in omb technical note no. 137. See remarks for detailed info on this algorithm. This is an improved version of the earlier neural network 2 algorithm.</dd></dl>
<h3><a class="anchor" id="autotoc_md71"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1997-02-02 </td><td class="markdownTableBodyNone">V. Krasnopolsky </td><td class="markdownTableBodyNone">Initial.  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">XT</td><td>7-word array containing brightness temperature in the order: t19v (word 1), t19h (word 2), t22v (word 3), t37v (word 4), t37h (word 5), t85v (word 6), t85h (word 7) (all in kelvin) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">V</td><td>Columnar water vapor (total precip. water) (mm) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">L</td><td>Columnar liquid water (mm) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SST</td><td>Sea surface temperature (deg. c) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JERR</td><td>Error return code:<ul>
<li>= 0 &ndash; Good retrievals</li>
<li>= 1 &ndash; Retrievals could not be made due to one or more brightness temperatures out of range (i.e, failed the rain flag test)</li>
<li>= 2 &ndash; Retrievals could not be made due to ice contamination {for either 1 or 2 above, all retrievals set to</li>
</ul>
<ol type="1">
<li>(missing)}</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Function, called by subroutine misc01. </dd></dl>
<h2><a class="anchor" id="autotoc_md72"></a>
Description of training and test data set:</h2>
<p>The training set consists of 3460 matchups which were received from two sources:</p><ul>
<li>1. 3187 F11/SSMI/buoy matchups were filtered out from a preliminary version of the new NRL database which was kindly provided by G. Poe (NRL). Maximum available wind speed is 24 m/s.</li>
<li>2. 273 F11/SSMI/OWS matchups were filtered out from two datasets collected by high latitude OWS LIMA and MIKE. These data sets were kindly provided by D. Kilham (University of Bristol). Maximum available wind speed is 26.4 m/s.</li>
</ul>
<p>Satellite data are collocated with both buoy and OWS data in space within 15 km and in time within 15 min.</p>
<p>The test data set has the same structure, the same number of matchups and maximum buoy wind speed.</p>
<h2><a class="anchor" id="autotoc_md73"></a>
Description of retrieval flags:</h2>
<p>Retrieval flags by Stogryn et al. are used. The algorithm produces retrievals under CLEAR + CLOUDY conditions, that is if:</p><ul>
<li>T37V - T37H &gt; 50. =&gt; CLEAR condition -or-</li>
<li>T37V - T37H =&lt; 50.|</li>
<li>T19H =&lt; 185. and |</li>
<li>T37H =&lt; 210. and | =&gt; CLOUDY conditions</li>
<li>T19V &lt; T37V |</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1997-02-02 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01139">1139</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="a4b77772e4547b0f74a9b1c669a839be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b77772e4547b0f74a9b1c669a839be6">&#9670;&nbsp;</a></span>risc02xx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function risc02xx </td>
          <td>(</td>
          <td class="paramtype">dimension(in)&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calc. </p>
<p>wspd from neural net 2 algorithm </p><dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-05-07 Calculates a single neural network output for wind speed. the network was trained on the whole data set without any separation into subsets. It gives rms = 1.64 m/s for training set and 1.65 m/s for testing set. This is an improved version of the earlier neural network 1 algorithm.</dd></dl>
<h3><a class="anchor" id="autotoc_md75"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1994-03-20 </td><td class="markdownTableBodyNone">V. Krasnopolsky </td><td class="markdownTableBodyNone">Initial.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1995-05-07 </td><td class="markdownTableBodyNone">V. Krasnopolsky </td><td class="markdownTableBodyNone">Replaced with neural net 2 algorithm.  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">X</td><td>5-Word array containing brightness temperature in the order: t19v (word 1), t22v (word 2), t37v (word 3), t37h (word 4), t85v (word 5) (all in kelvin) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XX Wind speed (meters/second)</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Function, no longer called by this program. It is here simply to save neural net 2 algorithm for possible later use (has been replaced by neural net 3 algorithm, see subr. risc02 and misc10).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>V. Krasnopolsky </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-05-07 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01352">1352</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="ac30ceca6f563c3f755520f227e068930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30ceca6f563c3f755520f227e068930">&#9670;&nbsp;</a></span>risc03()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function risc03 </td>
          <td>(</td>
          <td class="paramtype">dimension(4)&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calc. </p>
<p>w.spd from b temp.- goodberlet alg. </p><dl class="section author"><dt>Author</dt><dd>W. Gemmill </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-08-15 Calculates a single goodberlet output for wind speed. This is a linear regression algorithm from 1989.</dd></dl>
<h3><a class="anchor" id="autotoc_md76"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1994-08-15 </td><td class="markdownTableBodyNone">W. Gemmill </td><td class="markdownTableBodyNone">Initial.  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">X</td><td>4-word array containing brightness temperature in the order: t19v (word 1), t22v (word 2), t37v (word 3), t37h (word 4) (all in kelvin) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XX Wind speed (meters/second)</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Function, called by subroutine misc01.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>W. Gemmill </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-08-15 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l01413">1413</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
<a id="af1352ee5db91f6a057c1378cf9b00df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1352ee5db91f6a057c1378cf9b00df1">&#9670;&nbsp;</a></span>w3miscan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine w3miscan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INDTA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INLSF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INGBI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INGBD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(240:249)&#160;</td>
          <td class="paramname"><em>LSAT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>LPROD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>LBRIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>NNALG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>GBALG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(5)&#160;</td>
          <td class="paramname"><em>KDATE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(5)&#160;</td>
          <td class="paramname"><em>LDATE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IGNRTM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(1737)&#160;</td>
          <td class="paramname"><em>IBUFTN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IBDATE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IER</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one ssm/i scan line (64 retrievals) from the NCEP bufr ssm/i dump file. </p>
<p>Each scan is time checked against the user-requested time window and satellite id combinations. When a valid scan is read the program returns to the calling program. the user must pass in the type of the input ssm/i dump file, either derived products (regardless of source) or brightness temperatures (7-channels). If the latter is chosen, the user has the further option of processing, in addition to the brightness temperatures, in-line calculation of wind speed product via the goodberlet algorithm, and/or in-line calculation of both wind speed and total column precipitable water (tpw) products using the neural net 3 algorithm. If the wind speed or tpw is calculated here (either algorithm), this subroutine will check for brightness temperatures outside of a preset range and will return a missing wind speed/tpw if any b. temp is unreasonable. Also, for calculated wind speeds and tpw, this program will check to see if the b. temps are over land or ice, and if they are it will also return missing values since these data are valid only over ocean.</p>
<h3><a class="anchor" id="autotoc_md64"></a>
Program History Log:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Programmer </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1996-07-30 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Original author - subroutine is a modified version of w3lib w3fi86 which read one scan line from the 30-orbit shared processing data sets  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1997-05-22 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Crisis fix to account for clon now returned from bufr as -180 to 0 (west) or 0 to 180 (east), used to return as 0 to 360 east which was not the bufr standard  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1998-01-28 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Replaced neural net 2 algorithm which calculated only wind speed product with neural net 3 algorithm which calculates both wind speed and total precipitable water products (among others) but, unlike nn2, does not return a rain flag value (it does set all retrievals to missing that fail rain flag and ice contamination tests)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1998-03-30 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Modified to handle neural net 3 ssm/i products input in a products bufr data dump file; now prints out number of scans processed by satellite number in final summary  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1998-10-23 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Subroutine now y2k and fortran 90 compliant  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1999-02-18 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Modified to compile and run properly on ibm-sp  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2000-06-08 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Corrected mnemonic for rain rate to "reqv" (was "prer" for some unknown reason)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2001-01-03 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Changed units of returned rain rate from whole mm/hr to 10**6 mm/sec, changed units of returned surface temp from whole kelvin to 10**2 kelvin (to incr. precision to that orig. in input bufr file)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2004-09-12 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Now decodes sea-surface temperature if valid into same location as surface temperature, quantity is surface temperature if surface tag is not 5, otherwise quantity is sea-surface temperature (ncep products data dump file now contains sst); checks to see if old or new version of mnemonic table bufrtab.012 is being used here (old version had "ph2o" instead of "tpwt", "sndp" instead of "tosd", "wsos" instead of "wspd" and "ch2o" instead of the sequence "metfet vilwc metfet"), and decodes using whichever mnemonics are found {note: a further requirement for "vilwc" is that the first "metfet" (meteorological feature) in the sequence must be 12 (=cloud), else cloud water set to missing, regardless of "vilwc" value}  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2011-08-04 </td><td class="markdownTableBodyNone">Dennis Keyser </td><td class="markdownTableBodyNone">Add ibdate (input bufr message date) to output argument list (now used by calling program prepobs_prepssmi)  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">INDTA</td><td>Unit number of ncep bufr ssm/i dump data set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">INLSF</td><td>Unit number of direct access nesdis land/sea file (valid only if lbrit and either nnalg or gbalg true). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">INGBI</td><td>Unit number of grib index file for grib file Containing global 1-degree sea-surface temp field. (valid only if lbrit and either nnalg or gbalg true). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">INGBD</td><td>Unit number of grib file containing global 1-degree Sea-surface temp field (valid only if lbrit and either. Nnalg or gbalg true). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LSAT</td><td>10-word logical array (240:249) indicating which Satellite ids should be processed (see remarks) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LPROD</td><td>Logical indicating if the input bufr file contains Products (regardless of source) - in this case one or. More available products can be processed and returned. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LBRIT</td><td>Logical indicating if the input bufr file contains Brightness temperatures - in this case b. temps are. Processed and returned along with, if requested, in-. Line generated products from one or both algorithms. (see next two switches).<ul>
<li>The following two switches apply only if lbrit is true --&mdash; </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NNALG</td><td>Indicating if the subroutine should calculate and return ssm/i wind speed and tpw via the neural net 3 algorithm (note: b o t h wind speed and tpw are returned here) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GBALG</td><td>Indicating if the subroutine should calculate and return ssm/i wind speed via the goodberlet algorithm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KDATE</td><td>Requested earliest year(yyyy), month, day, hour, Min for accepting scans. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LDATE</td><td>Requested latest year(yyyy), month, day, hour, Min for accepting scans. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IGNRTM</td><td>Switch to indicate whether scans should be time- Checked (= 0) or not time checked (=1) {if =1, all. Scans read in are processed regardless of their time.. The input arguments "kdate" and "ldate" (earliest and. Latest date for processing data) are ignored in the. Time checking for scans. (note: the earliest and. Latest dates should still be specified to the. "expected" time range, but they will not be used for. Time checking in this case)}. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IBUFTN</td><td>Output buffer holding data for a scan (1737 words - See remarks for format. some words may be missing Depending upon lprod, lbrit, nnalg and gbalg </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IBDATE</td><td>Input bufr message section 1 date (yyyymmddhh) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IER</td><td>Error return code (see remarks)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Return code ier can have the following values:<ul>
<li>IER = 0 Successful return of scan</li>
<li>IER = 1 All scans have been read, all done</li>
<li>IER = 2 Abnormal return - input bufr file in unit 'indta' is either empty (null) or is not bufr</li>
<li>IER = 3 Abnormal return - requested earliest and latest dates are backwards</li>
<li>IER = 4 Abnormal return - error opening random access file holding land/sea tags</li>
<li>IER = 5 Abnormal return - the number of decoded "levels" is not what is expected</li>
<li>IER = 6 Abnormal return - sea-surface temperature not found in grib index file - error returned from grib decoder getgb is 96</li>
<li>IER = 7 Abnormal return - sea-surface temperature grib message has a date that is either: 1) more than 7-days prior to the earliest requested date or 2) more than 7-days after the latest requested date</li>
<li>IER = 8 Abnormal return - byte-addressable read error for grib file containing sea-surface temperature field - error returned from grib decoder getgb is 97-99</li>
<li>IER = 9 Abnormal return - error returned from grib decoder - getgb - for sea-surface temperature field - &gt; 0 but not 96-99</li>
</ul>
</dd></dl>
<p>Input argument lsat is set-up as follows:</p><ul>
<li>LSAT(X) = TRUE &ndash; Process scans from satellite id x (where x is code figure from bufr code table 0-01-007)</li>
<li>LSAT(X) = FALSE - Do not process scans from satellite id x<ul>
<li>X = 240 is f-7 dmsp satellite (this satellite is no longer available)</li>
<li>X = 241 is f-8 dmsp satellite (this satellite is no longer available)</li>
<li>X = 242 is f-9 dmsp satellite (this satellite is no longer available)</li>
<li>X = 243 is f-10 dmsp satellite (this satellite is no longer available)</li>
<li>X = 244 is f-11 dmsp satellite (this is available as of 8/96 but is not considered to be an operational dmsp ssm/i satellite)</li>
<li>X = 245 is f-12 dmsp satellite (this satellite is no longer available)</li>
<li>X = 246 is f-13 dmsp satellite (this is available and is considered to be an operational odd dmsp ssm/i satellite as of 8/1996)</li>
<li>X = 247 is f-14 dmsp satellite (this is available as of 5/97 but is not considered to be an operational dmsp ssm/i satellite)</li>
<li>X = 248 is f-15 dmsp satellite (this is available as of 2/2000 and is considered to be an operational odd dmsp ssm/i satellite as of 2/2000)</li>
<li>X = 249 is reserved for a future dmsp satellite</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Here "even" means value in ibuftn(1) is an odd number while "odd" means value in ibuftn(1) is an even number Contents of array 'ibuftn' holding one complete scan (64 individual retrievlas (1737 words)</dd></dl>
<h4><a class="anchor" id="autotoc_md65"></a>
Always returned:</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">WORD </th><th class="markdownTableHeadNone">CONTENTS  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">Satellite id (244 is f-11; 246 is f-13; 247 is f-14; 248 is f-15)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">4-digit year for scan  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">2-digit month of year for scan  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">2-digit day of month for scan  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">2-digit hour of day for scan  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">2-digit minute of hour for scan  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">2-digit second of minute for scan  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">Scan number in orbit  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">Orbit number for scan  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10 </td><td class="markdownTableBodyNone">Retrieval #1 latitude (*100 degrees: + n, - s)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">11 </td><td class="markdownTableBodyNone">Retrieval #1 longitude (*100 degrees east)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">12 </td><td class="markdownTableBodyNone">Retrieval #1 position number  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">13 </td><td class="markdownTableBodyNone">Retrieval #1 surface tag (code figure)  </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md66"></a>
For LPROD = TRUE {Input products file: note all products below except sea-surface temperature are available in the fnoc "operational" products data dump; most ncep products data dumps contain only wind speed, total precipitable water, cloud water and sea-surface temperature (all over ocean only)}:</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">WORD </th><th class="markdownTableHeadNone">CONTENTS  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">14 </td><td class="markdownTableBodyNone">Retrieval #1 cloud water (*100 kilogram/meter**2)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">15 </td><td class="markdownTableBodyNone">Retrieval #1 rain rate (*1000000 millimeters/second)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">16 </td><td class="markdownTableBodyNone">Retrieval #1 wind speed (*10 meters/second)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">17 </td><td class="markdownTableBodyNone">Retrieval #1 soil moisture (millimeters)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">18 </td><td class="markdownTableBodyNone">Retrieval #1 sea-ice concentration (per cent)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">19 </td><td class="markdownTableBodyNone">Retrieval #1 sea-ice age (code figure)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">20 </td><td class="markdownTableBodyNone">Retrieval #1 ice edge (code figure)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">21 </td><td class="markdownTableBodyNone">Retrieval #1 total precip. water (*10 millimeters)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">22 </td><td class="markdownTableBodyNone">Retrieval #1 surface temp (*100 k) if not over ocean -OR-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">22 </td><td class="markdownTableBodyNone">Retrieval #1 sea-surface temp (*100 k) if over ocean  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">23 </td><td class="markdownTableBodyNone">Retrieval #1 snow depth (millimeters)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">24 </td><td class="markdownTableBodyNone">Retrieval #1 rain flag (code figure)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">25 </td><td class="markdownTableBodyNone">Retrieval #1 calculated surface type (code figure)  </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md67"></a>
For LBRIT = TRUE (Input brightness temperature file):</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">WORD </th><th class="markdownTableHeadNone">CONTENTS  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">26 </td><td class="markdownTableBodyNone">Retrieval #1 19 ghz v brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">27 </td><td class="markdownTableBodyNone">Retrieval #1 19 ghz h brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">28 </td><td class="markdownTableBodyNone">Retrieval #1 22 ghz v brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">29 </td><td class="markdownTableBodyNone">Retrieval #1 37 ghz v brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30 </td><td class="markdownTableBodyNone">Retrieval #1 37 ghz h brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">31 </td><td class="markdownTableBodyNone">Retrieval #1 85 ghz v brightness temp (*100 deg. k)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">32 </td><td class="markdownTableBodyNone">Retrieval #1 85 ghz h brightness temp (*100 deg. k)  </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md68"></a>
For LBRIT = TRUE and NNALG = TRUE (Input brightness temperature file):</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">WORD </th><th class="markdownTableHeadNone">CONTENTS  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">33 </td><td class="markdownTableBodyNone">Retrieval #1 Neural net 3 algorithm wind speed (generated in-line) (*10 meters/second)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">34 </td><td class="markdownTableBodyNone">Retrieval #1 Neural net 3 algorithm total precip. water (generated in-line) (*10 millimeters)  </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md69"></a>
For LBRIT = TRUE and GBALG = TRUE (Input brightness temperature file):</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">WORD </th><th class="markdownTableHeadNone">CONTENTS  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">35 </td><td class="markdownTableBodyNone">Retrieval #1 goodberlet algorithm wind speed (generated in-line) (*10 meters/second)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">36 </td><td class="markdownTableBodyNone">Retrieval #1 goodberlet algorithm rain flag (code figure)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">37-1737 </td><td class="markdownTableBodyNone">Repeat 10-36 for 63 more retrievals  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>All missing data or data not selected by calling program are set to 99999</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dennis Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1996-07-30 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3miscan_8f_source.html#l00194">194</a> of file <a class="el" href="w3miscan_8f_source.html">w3miscan.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="w3miscan_8f.html">w3miscan.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

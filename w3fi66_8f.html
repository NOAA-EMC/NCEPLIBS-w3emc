<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: w3fi66.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('w3fi66_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">w3fi66.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Office note 29 report blocker.  
<a href="#details">More...</a></p>

<p><a href="w3fi66_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:af8839a41e56c22bda1be01a7f877eb5e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e">w3fi66</a> (COCBUF, COCBLK, NFLAG, NSIZE)</td></tr>
<tr class="memdesc:af8839a41e56c22bda1be01a7f877eb5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks reports which have been packed into nmc office note 29 character format into fixed-length records.  <a href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e">More...</a><br /></td></tr>
<tr class="separator:af8839a41e56c22bda1be01a7f877eb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Office note 29 report blocker. </p>
<dl class="section author"><dt>Author</dt><dd>L. Marx </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1990-01 </dd></dl>

<p class="definition">Definition in file <a class="el" href="w3fi66_8f_source.html">w3fi66.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="af8839a41e56c22bda1be01a7f877eb5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8839a41e56c22bda1be01a7f877eb5e">&#9670;&nbsp;</a></span>w3fi66()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine w3fi66 </td>
          <td>(</td>
          <td class="paramtype">character*10, dimension(*)&#160;</td>
          <td class="paramname"><em>COCBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*10, dimension(*)&#160;</td>
          <td class="paramname"><em>COCBLK</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NFLAG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NSIZE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks reports which have been packed into nmc office note 29 character format into fixed-length records. </p>
<p>A report cannot span two records; If there is not enough room to fit the current report in the record, the subroutine returns to the calling program without any movement of data.</p>
<p>Program history log:</p><ul>
<li>L. Marx 1990-01 Converted code from assembler to vs fortran; Expanded error return codes in 'NFLAG'.</li>
<li>Dennis Keyser 1991-08-23 Use same arguments as w3ai05(); streamlined code; Docblocked and commented; diag- nostic print for errors.</li>
<li>Dennis Keyser 1992-06-29 Convert to cray cft77 fortran.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">COCBUF</td><td>Array containing a single packed report in office note 29/124 format. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NFLAG</td><td>Marker indicating relative location (in bytes) of end of last report in COCBLK. Exception: NFLAG must be set to zero prior to blocking the first packed report into a new block. Subsequently, the value of NFLAG returned by the previous call to <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> should be used as input. (see output argument list below.) If NFLAG is negative, <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> will return immediately without action. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NSIZE</td><td>Maximum number of characters in COCBLK array (should be a multiple of 4) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">COCBLK</td><td>Array holding a block of packed reports up to and including the previous (IN) / current (OUT) one ag marker indicating relative location (in bytes) of end of current report in COCBLK. NFLAG will be set to -1 if <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> cannot fit the current packed report into the remainder of the block (i.e., the block is full). NFLAG will not change from its input argument value if the string "end report" is not found at the end of the current report. (current packed report has invalid length and is not blocked)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The user must set NFLAG to zero each time the array is to be filled with packed reports in office note 29/124 format. <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> will then insert the first report and fill the remainder of the output array COCBLK with the string 'end record'.</dd></dl>
<p>An attempt is made to insert a report in the output array each time <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> is called. If the remaining portion of the output array is not large enough to hold the current report, <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> sets NFLAG to -1. The user should then output the blocked record, set NFLAG to zero, and call <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> again with the same report in the input array.</p>
<p>After a given report is successfully blocked into COCBLK, <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> sets NFLAG as a pointer for the next report to be blocked. this pointer is a relative address and a character count.</p>
<p>The three characters specifying the length of the report are checked for valid character numbers and the value is tested for pointing to the end of the report (string "end report"). If invalid, the report is not inserted into the block and there is an immediate return to the user. In this case, the value of NFLAG does not change from its input value.</p>
<dl class="section note"><dt>Note</dt><dd>Entry w3ai05() duplicates processing in <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> since no assembly language code in cray w3lib.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>L. Marx </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1990-01 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3fi66_8f_source.html#l00069">69</a> of file <a class="el" href="w3fi66_8f_source.html">w3fi66.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="w3fi66_8f.html">w3fi66.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

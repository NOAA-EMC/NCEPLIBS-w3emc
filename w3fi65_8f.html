<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: w3fi65.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('w3fi65_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">w3fi65.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NMC office note 29 report packer.  
<a href="#details">More...</a></p>

<p><a href="w3fi65_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a1651042ec008fbdb77f6b66ee9643d0e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3fi65_8f.html#a1651042ec008fbdb77f6b66ee9643d0e">w3fi65</a> (LOCRPT, COCBUF)</td></tr>
<tr class="memdesc:a1651042ec008fbdb77f6b66ee9643d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packs an array of upper-air reports into the format described by NMC office note 29, or packs an array of surface reports into the format described by NMC office note 124.  <a href="w3fi65_8f.html#a1651042ec008fbdb77f6b66ee9643d0e">More...</a><br /></td></tr>
<tr class="separator:a1651042ec008fbdb77f6b66ee9643d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NMC office note 29 report packer. </p>
<dl class="section author"><dt>Author</dt><dd>L. Marx </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1990-01 </dd></dl>

<p class="definition">Definition in file <a class="el" href="w3fi65_8f_source.html">w3fi65.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a1651042ec008fbdb77f6b66ee9643d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1651042ec008fbdb77f6b66ee9643d0e">&#9670;&nbsp;</a></span>w3fi65()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine w3fi65 </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>LOCRPT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*10, dimension(*)&#160;</td>
          <td class="paramname"><em>COCBUF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packs an array of upper-air reports into the format described by NMC office note 29, or packs an array of surface reports into the format described by NMC office note 124. </p>
<p>Input integer, real or character type as specified in the category tables in the write-up for <a class="el" href="w3fi64_8f.html#abd64595a92fa11f1d11661e1e94b9dcc" title="Unpacks an array of upper-air reports that are packed in the format described by NMC office note 29,...">w3fi64()</a> (the office note 29 report packer) are converted to character data. Missing character data are specified as strings of 9's except for that converted from input character type which are generally specified as blanks. This library is similar to w3ai03() except w3ai03() was written in assembler.</p>
<p>Program history log:</p><ul>
<li>L. Marx 1990-01 Converted code from assembler to vs fortran.</li>
<li>Dennis Keyser 1991-08-23 Use same arguments as w3ai03() ; Streamlined code; Docblocked and commented.</li>
<li>Dennis Keyser 1992-06-29 Convert to cray cft77 fortran.</li>
<li>Dennis Keyser 1992-07-09 Checks the number of characters used by each variable prior to conversion from integer to character format; If this number is greater than the number of characters allocated for the variable the variable is packed as "missing" (i.e., stores as all 9's).</li>
<li>Dennis Keyser 1993-06-28 Initializes number of words in report to 42 in case "strange" report with no data in any category encountered (used to be zero, but such "strange" reports caused code to fail).</li>
<li>Dennis Keyser 1993-12-22 Corrected error which resulted in storage of 0's in place of actual data in a category when that category was the only one with data.</li>
<li>Dennis Keyser 1998-08-07 Fortran 90-compliant - split an if statement into 2-parts to prevent f90 floating point exception error that can now occur in some cases (did not occur in f77).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LOCRPT</td><td>Integer array containing one unpacked report. LOCRPT must begin on a fullword boundary. Format is mixed, user must equivalence real and character arrays to this array (see w3fi64 write-up for content). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">COCBUF</td><td>CHARACTER*10 Array containing a packed report in NMC office note 29/124 format.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After first creating and writing out the office note 85 (first) date record, the user's fortran program begins a packing loop as follows.. Each iteration of the packing loop consists of a call first to <a class="el" href="w3fi65_8f.html#a1651042ec008fbdb77f6b66ee9643d0e" title="Packs an array of upper-air reports into the format described by NMC office note 29,...">w3fi65()</a> to pack the report into COCBUF, then a call to <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> with the current value of 'NFLAG' (set to zero for first call) to block the packed report into a record (see <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> write- up). if 'NFLAG' is -1 upon returning from <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a>, the remaining portion of the record is not large enough to hold the current packed report. The user should write out the record, set 'NFLAG' to zero, call <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a> to write the packed report to the beginning of the next record, and repeat the packing loop. If 'NFLAG' is positive, a packed report has been blocked into the record and the user should continue the packing loop. When all reports have been packed and blocked, the user should write out this last record (which is not full but contains fill information supplied by <a class="el" href="w3fi66_8f.html#af8839a41e56c22bda1be01a7f877eb5e" title="Blocks reports which have been packed into nmc office note 29 character format into fixed-length reco...">w3fi66()</a>). One final record containing the string 'endof file' (sic) followed by blank fill must be written out to signal the end of the data set.</dd>
<dd>
1: The packed report will have the categories ordered as follows: 1, 2, 3, 4, 5, 6, 7, 51, 52, 8, 9. </dd>
<dd>
2: The input unpacked report must be in the format spec- ified in the <a class="el" href="w3fi64_8f.html#abd64595a92fa11f1d11661e1e94b9dcc" title="Unpacks an array of upper-air reports that are packed in the format described by NMC office note 29,...">w3fi64()</a> office note 29 report unpacker write-up. </dd>
<dd>
3: The unused porion of cocbuf is not cleared. </dd>
<dd>
Entry w3ai03() duplicates processing in <a class="el" href="w3fi65_8f.html#a1651042ec008fbdb77f6b66ee9643d0e" title="Packs an array of upper-air reports into the format described by NMC office note 29,...">w3fi65()</a> since no assembly language code in cray w3lib.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>L. Marx </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1990-01 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3fi65_8f_source.html#l00079">79</a> of file <a class="el" href="w3fi65_8f_source.html">w3fi65.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="w3fi65_8f.html">w3fi65.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

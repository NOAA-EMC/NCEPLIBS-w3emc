<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: getgbexm.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc<span id="projectnumber">&#160;2.9.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('getgbexm_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">getgbexm.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Find and unpack a grib message.  
<a href="#details">More...</a></p>

<p><a href="getgbexm_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab15467040c53a0346d4857a0496c4762"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getgbexm_8f.html#ab15467040c53a0346d4857a0496c4762">getgbexm</a> (LUGB, LUGI, JF, J, JPDS, JGDS, JENS, MBUF, CBUF, NLEN, NNUM, MNUM, KF, K, KPDS, KGDS, KENS, KPROB, XPROB, KCLUST, KMEMBR, LB, F, IRET)</td></tr>
<tr class="memdesc:ab15467040c53a0346d4857a0496c4762"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a grib index file (or optionally the grib file itself) to get the index buffer (i.e.  <a href="getgbexm_8f.html#ab15467040c53a0346d4857a0496c4762">More...</a><br /></td></tr>
<tr class="separator:ab15467040c53a0346d4857a0496c4762"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Find and unpack a grib message. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-04-01 </dd></dl>

<p class="definition">Definition in file <a class="el" href="getgbexm_8f_source.html">getgbexm.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ab15467040c53a0346d4857a0496c4762" name="ab15467040c53a0346d4857a0496c4762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab15467040c53a0346d4857a0496c4762">&#9670;&nbsp;</a></span>getgbexm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgbexm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUGI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>JF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>J</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>JPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>JGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>JENS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(mbuf)&#160;</td>
          <td class="paramname"><em>CBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NLEN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>KENS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(2)&#160;</td>
          <td class="paramname"><em>KPROB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(2)&#160;</td>
          <td class="paramname"><em>XPROB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(16)&#160;</td>
          <td class="paramname"><em>KCLUST</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(80)&#160;</td>
          <td class="paramname"><em>KMEMBR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical*1, dimension(jf)&#160;</td>
          <td class="paramname"><em>LB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(jf)&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a grib index file (or optionally the grib file itself) to get the index buffer (i.e. </p>
<p >table of contents) for the grib file. Find in the index buffer a reference to the grib message requested. The grib message request specifies the number of messages to skip and the unpacked pds and gds parameters. (A requested parameter of -1 means to allow any value of this parameter to be found.) If the requested grib message is found, then it is read from the grib file and unpacked. Its message number is returned along with the unpacked pds and gds parameters, the unpacked bitmap (if any), and the unpacked data. If the grib message is not found, then the return code will be nonzero.</p>
<p >Program history log:</p><ul>
<li>Mark Iredell 1994-04-01</li>
<li>Mark Iredell 1995-10-31 Modularized portions of code into subprograms and allowed for unspecified index file.</li>
<li>Y. Zhu 1997-02-11 Included probability and cluster arguments.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lugi</td><td>integer unit of the unblocked grib index file (=0 to get index buffer from the grib file). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jf</td><td>integer maximum number of data points to unpack. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>integer number of messages to skip (=0 to search from beginning) (&lt;0 to read index buffer and skip -1-j messages). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpds</td><td>integer (200) pds parameters for which to search (=-1 for wildcard).<ul>
<li>1): id of center.</li>
<li>2): generating process id number.</li>
<li>3): grid definition.</li>
<li>4): gds/bms flag (right adj copy of octet 8).</li>
<li>5): indicator of parameter.</li>
<li>6): type of level.</li>
<li>7): height/pressure , etc of level.</li>
<li>8): year including (century-1).</li>
<li>9): month of year.</li>
<li>10: day of month.</li>
<li>11: hour of day.</li>
<li>12: minute of hour.</li>
<li>13: indicator of forecast time unit.</li>
<li>14: time range 1.</li>
<li>15: time range 2.</li>
<li>16: time range flag.</li>
<li>17: number included in average.</li>
<li>18: version nr of grib specification.</li>
<li>19: version nr of parameter table.</li>
<li>20: nr missing from average/accumulation.</li>
<li>21: century of reference time of data.</li>
<li>22: units decimal scale factor.</li>
<li>23: subcenter number.</li>
<li>24: pds byte 29, for nmc ensemble products.<ul>
<li>128 if forecast field error.</li>
<li>64 if bias corrected fcst field.</li>
<li>32 if smoothed field.</li>
<li>warning: can be combination of more than 1.</li>
</ul>
</li>
<li>25: pds byte 30, not used. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jgds</td><td>integer (200) gds parameters for which to search (only searched if jpds(3)=255) (=-1 for wildcard).<ul>
<li>1): data representation type.</li>
<li>19: number of vertical coordinate parameters.</li>
<li>20: octet number of the list of vertical coordinate parameters or. octet number of the list of numbers of points in each row or. 255 if neither are present.</li>
<li>21: for grids with pl, number of points in grid.</li>
<li>22: number of words in each row.</li>
<li>Latitude/longitude grids.<ul>
<li>2: n(i) nr points on latitude circle.</li>
<li>3: n(j) nr points on longitude meridian.</li>
<li>4: la(1) latitude of origin.</li>
<li>5: lo(1) longitude of origin.</li>
<li>6: resolution flag (right adj copy of octet 17).</li>
<li>7: la(2) latitude of extreme point.</li>
<li>8: lo(2) longitude of extreme point.</li>
<li>9: di longitudinal direction of increment.</li>
<li>10: dj latitudinal direction increment.</li>
<li>11: scanning mode flag (right adj copy of octet 28).</li>
</ul>
</li>
<li>Gaussian grids.<ul>
<li>2: n(i) nr points on latitude circle.</li>
<li>3: n(j) nr points on longitude meridian.</li>
<li>4: la(1) latitude of origin.</li>
<li>5: lo(1) longitude of origin.</li>
<li>6: resolution flag (right adj copy of octet 17).</li>
<li>7: la(2) latitude of extreme point.</li>
<li>8: lo(2) longitude of extreme point.</li>
<li>9: di longitudinal direction of increment.</li>
<li>10: n - nr of circles pole to equator.</li>
<li>11: scanning mode flag (right adj copy of octet 28).</li>
<li>12: nv - nr of vert coord parameters.</li>
<li>13: pv - octet nr of list of vert coord parameters or.<ul>
<li>pl - location of the list of numbers of points in each row (if no vert coord parameters are present) or 255 if neither are present.</li>
</ul>
</li>
</ul>
</li>
<li>Polar stereographic grids.<ul>
<li>2: n(i) nr points along lat circle.</li>
<li>3: n(j) nr points along lon circle.</li>
<li>4: la(1) latitude of origin.</li>
<li>5: lo(1) longitude of origin.</li>
<li>6: resolution flag (right adj copy of octet 17).</li>
<li>7: lov grid orientation.</li>
<li>8: dx - x direction increment.</li>
<li>9: dy - y direction increment.</li>
<li>10: projection center flag.</li>
<li>11: scanning mode (right adj copy of octet 28).</li>
</ul>
</li>
<li>Spherical harmonic coefficients.<ul>
<li>2: j pentagonal resolution parameter.</li>
<li>3: k pentagonal resolution parameter.</li>
<li>4: m pentagonal resolution parameter.</li>
<li>5: representation type.</li>
<li>6: coefficient storage mode.</li>
</ul>
</li>
<li>Mercator grids.<ul>
<li>2: n(i) nr points on latitude circle.</li>
<li>3: n(j) nr points on longitude meridian.</li>
<li>4: la(1) latitude of origin.</li>
<li>5: lo(1) longitude of origin.</li>
<li>6: resolution flag (right adj copy of octet 17).</li>
<li>7: la(2) latitude of last grid point.</li>
<li>8: lo(2) longitude of last grid point.</li>
<li>9: latit - latitude of projection intersection.</li>
<li>10: reserved.</li>
<li>11: scanning mode flag (right adj copy of octet 28).</li>
<li>12: longitudinal dir grid length.</li>
<li>13: latitudinal dir grid length.</li>
</ul>
</li>
<li>Lambert conformal grids.<ul>
<li>2: nx nr points along x-axis.</li>
<li>3: ny nr points along y-axis.</li>
<li>4: la1 lat of origin (lower left).</li>
<li>5: lo1 lon of origin (lower left).</li>
<li>6: resolution (right adj copy of octet 17).</li>
<li>7: lov - orientation of grid.</li>
<li>8: dx - x-dir increment.</li>
<li>9: dy - y-dir increment.</li>
<li>10: projection center flag.</li>
<li>11: scanning mode flag (right adj copy of octet 28).</li>
<li>12: latin 1 - first lat from pole of secant cone inter.</li>
<li>13: latin 2 - second lat from pole of secant cone inter. </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jens</td><td>integer (200) ensemble pds parms for which to search (only searched if jpds(23)=2) (=-1 for wildcard).<ul>
<li>1: application identifier.</li>
<li>2: ensemble type.</li>
<li>3: ensemble identifier.</li>
<li>4: product identifier.</li>
<li>5: smoothing flag. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mbuf</td><td>integer length of index buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cbuf</td><td>character*1 (mbuf) index buffer (initialize by setting j=-1). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">nlen</td><td>integer length of each index record in bytes (initialize by setting j=-1). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">nnum</td><td>integer number of index records (initialize by setting j=-1). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mnum</td><td>integer number of index records skipped (initialize by setting j=-1). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kf</td><td>integer number of data points unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">k</td><td>integer message number unpacked (can be same as j in calling program in order to facilitate multiple searches). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kpds</td><td>integer (200) unpacked pds parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kgds</td><td>integer (200) unpacked gds parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kens</td><td>integer (200) unpacked ensemble pds parms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kprob</td><td>integer (2) probability ensemble parms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">xprob</td><td>real (2) probability ensemble parms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kclust</td><td>integer (16) cluster ensemble parms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kmembr</td><td>integer (8) cluster ensemble parms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lb</td><td>logical*1 (kf) unpacked bitmap if present. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">f</td><td>real (kf) unpacked data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code.<ul>
<li>0 all ok.</li>
<li>96 error reading index file.</li>
<li>97 error reading grib file.</li>
<li>98 number of data points greater than jf.</li>
<li>99 request not found.</li>
<li>other w3fi63 grib unpacker return code.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Specify an index file if feasible to increase speed. Subprogram can be called from a multiprocessing environment. Do not engage the same logical unit from more than one processor.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-04-01 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getgbexm_8f_source.html#l00184">184</a> of file <a class="el" href="getgbexm_8f_source.html">getgbexm.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="getgbexm_8f.html">getgbexm.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>

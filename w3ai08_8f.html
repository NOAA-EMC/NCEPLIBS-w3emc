<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: w3ai08.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('w3ai08_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">w3ai08.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unpack grib field to grib grid.  
<a href="#details">More...</a></p>

<p><a href="w3ai08_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a441b7146a653d41877d19a7cd64efb7c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a441b7146a653d41877d19a7cd64efb7c">ai081</a> (MSGA, KPTR, KPDS, KRET)</td></tr>
<tr class="memdesc:a441b7146a653d41877d19a7cd64efb7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find 'grib; characters and set pointers to the next byte following 'grib'.  <a href="w3ai08_8f.html#a441b7146a653d41877d19a7cd64efb7c">More...</a><br /></td></tr>
<tr class="separator:a441b7146a653d41877d19a7cd64efb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6093fcf5580f32f3ff8be92af6b0e3"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#afa6093fcf5580f32f3ff8be92af6b0e3">ai082</a> (MSGA, KPTR, KPDS, KRET)</td></tr>
<tr class="memdesc:afa6093fcf5580f32f3ff8be92af6b0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract information from the product description sec, and generate label information to permit storage in office note 84 format.  <a href="w3ai08_8f.html#afa6093fcf5580f32f3ff8be92af6b0e3">More...</a><br /></td></tr>
<tr class="separator:afa6093fcf5580f32f3ff8be92af6b0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720103ce8519bc682230c8757c6fb8e9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a720103ce8519bc682230c8757c6fb8e9">ai082a</a> (MSGA, KPTR, KPDS, KRET)</td></tr>
<tr class="memdesc:a720103ce8519bc682230c8757c6fb8e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract information from the product description section (version 1).  <a href="w3ai08_8f.html#a720103ce8519bc682230c8757c6fb8e9">More...</a><br /></td></tr>
<tr class="separator:a720103ce8519bc682230c8757c6fb8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7031bf0f0b33cba1e5c2334224e735a1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a7031bf0f0b33cba1e5c2334224e735a1">ai083</a> (MSGA, KPTR, KPDS, KGDS, KRET)</td></tr>
<tr class="memdesc:a7031bf0f0b33cba1e5c2334224e735a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract information on unlisted grid to allow conversion to office note 84 format.  <a href="w3ai08_8f.html#a7031bf0f0b33cba1e5c2334224e735a1">More...</a><br /></td></tr>
<tr class="separator:a7031bf0f0b33cba1e5c2334224e735a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac753d2f7d6ce69d4e1412af879b7b9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a1ac753d2f7d6ce69d4e1412af879b7b9">ai084</a> (MSGA, KPTR, KPDS, KGDS, KBMS, KRET)</td></tr>
<tr class="memdesc:a1ac753d2f7d6ce69d4e1412af879b7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">If bit map sec is available in grib message,extract for program use, otherwise generate an appropriate bit map.  <a href="w3ai08_8f.html#a1ac753d2f7d6ce69d4e1412af879b7b9">More...</a><br /></td></tr>
<tr class="separator:a1ac753d2f7d6ce69d4e1412af879b7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220caa94dfc83c8a73d224245c9469da"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a220caa94dfc83c8a73d224245c9469da">ai085</a> (MSGA, KPTR, KPDS, KBMS, DATA, KRET)</td></tr>
<tr class="memdesc:a220caa94dfc83c8a73d224245c9469da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract grib data and place into output arry in proper position.  <a href="w3ai08_8f.html#a220caa94dfc83c8a73d224245c9469da">More...</a><br /></td></tr>
<tr class="separator:a220caa94dfc83c8a73d224245c9469da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecf84941a754cb8d8a328c77f038de0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a7ecf84941a754cb8d8a328c77f038de0">ai085a</a> (MSGA, KPTR, KPDS, KBMS, DATA, KRET)</td></tr>
<tr class="memdesc:a7ecf84941a754cb8d8a328c77f038de0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract grib data (version 1) and place into proper position in output array.  <a href="w3ai08_8f.html#a7ecf84941a754cb8d8a328c77f038de0">More...</a><br /></td></tr>
<tr class="separator:a7ecf84941a754cb8d8a328c77f038de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73cef7b08d3fbe6549b6db66ae7b49f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#ac73cef7b08d3fbe6549b6db66ae7b49f">ai087</a> (, J, KPDS, KGDS, KRET)</td></tr>
<tr class="memdesc:ac73cef7b08d3fbe6549b6db66ae7b49f"><td class="mdescLeft">&#160;</td><td class="mdescRight">To test when gds is available to see if size mismatch on existing grids (by center) is indicated.  <a href="w3ai08_8f.html#ac73cef7b08d3fbe6549b6db66ae7b49f">More...</a><br /></td></tr>
<tr class="separator:ac73cef7b08d3fbe6549b6db66ae7b49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca96c27a72b383415773ff07d2027dd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3ai08_8f.html#a8ca96c27a72b383415773ff07d2027dd">w3ai08</a> (MSGA, KPDS, KGDS, KBMS, DATA, KPTR, KRET)</td></tr>
<tr class="memdesc:a8ca96c27a72b383415773ff07d2027dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack a grib field to the exact grid specified in the message, isolate the bit map and make the values of the product description sec (pds) and the grid description sec (gds) available in return arrays.  <a href="w3ai08_8f.html#a8ca96c27a72b383415773ff07d2027dd">More...</a><br /></td></tr>
<tr class="separator:a8ca96c27a72b383415773ff07d2027dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unpack grib field to grib grid. </p>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition in file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a441b7146a653d41877d19a7cd64efb7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a441b7146a653d41877d19a7cd64efb7c">&#9670;&nbsp;</a></span>ai081()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai081 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find 'grib; characters and set pointers to the next byte following 'grib'. </p>
<p>If they exist extract counts from gds and bms. Extract count from bds. determine if sum of counts actually places terminator '7777' at the correct location.</p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Ralph Jones 1990-09-01 Change's for ansi fortran.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msga</td><td>grib field - "grib" thru "7777".`` </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">kptr</td><td>array containing storage for following parameters.<ul>
<li>1: Unused.</li>
<li>2: Unused.</li>
<li>3: Length of pds.</li>
<li>4: Length of gds.</li>
<li>5: Length of bms.</li>
<li>6: Length of bds.</li>
<li>7: Value of current byte.</li>
<li>8: Unused.</li>
<li>9: Grib start byte.</li>
<li>10: Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kpds</td><td>- array containing pds elements..<ul>
<li>1: Id of center.</li>
<li>2: Model identification.</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of parameter.</li>
<li>6: Type of level.</li>
<li>7: Height/pressure , etc of level.</li>
<li>8: Year of century.</li>
<li>9: Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kret</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Error returns.<ul>
<li>kret = 1: No 'grib'.</li>
<li>kret = 2: No '7777' or mislocated (by counts).</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l00569">569</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="afa6093fcf5580f32f3ff8be92af6b0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6093fcf5580f32f3ff8be92af6b0e3">&#9670;&nbsp;</a></span>ai082()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai082 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract information from the product description sec, and generate label information to permit storage in office note 84 format. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Ralph Jones 1990-09-01 Change's for ansi fortran.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msga</td><td>Array containing grib message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">kptr</td><td>Array containing storage for following parameters.<ul>
<li>1: Unused.</li>
<li>2: Unused.</li>
<li>3: Length of pds.</li>
<li>4: Length of gds.</li>
<li>5: Length of bms.</li>
<li>6: Length of pds.</li>
<li>7: Value of current byte.</li>
<li>8: Unused.</li>
<li>9: Grib start byte nr.</li>
<li>10: Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kpds</td><td>Array containing pds elements.<ul>
<li>1: Id of center.</li>
<li>2: Model identification.</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of parameter.</li>
<li>6: Type of level.</li>
<li>7: Height/pressure, etc of level.</li>
<li>8: Year of century.</li>
<li>9: Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version number of grib spefication.</li>
<li>19: Version nr of parameter table.</li>
<li>20: Total length of grib message (including section 0). </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kret</td><td>error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>error return:<ul>
<li>= 0 - no errors</li>
<li>= 8 - temp gds indicated, but no gds</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l00749">749</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a720103ce8519bc682230c8757c6fb8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720103ce8519bc682230c8757c6fb8e9">&#9670;&nbsp;</a></span>ai082a()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai082a </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract information from the product description section (version 1). </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1989-11-20</li>
<li>Ralph Jones 1990-09-01 Change's for ansi fortran.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MSGA</td><td>Array containing grib message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KPTR</td><td>Array containing storage for following parameters.<ul>
<li>1: Unused.</li>
<li>2: Unused.</li>
<li>3: Length of pds.</li>
<li>4: Length of gds.</li>
<li>5: Length of bms.</li>
<li>6: Length of pds.</li>
<li>7: Value of current byte.</li>
<li>8: Unused.</li>
<li>9: Grib start byte nr.</li>
<li>10: Grib/grid element count.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KPDS</td><td>Array containing pds elements.<ul>
<li>1: Id of center</li>
<li>2: Model identi.fication</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of. parameter</li>
<li>6: Type of level.</li>
<li>7: Height/pressu.re , etc of level</li>
<li>8: Year (including century).</li>
<li>9: Month of year.</li>
<li>10: Day of month..</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification.</li>
<li>19: Version nr of parameter table.</li>
<li>20: Total byte count for source message. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Source pds structure (version 1).<ul>
<li>1-3: Length of pds section in bytes.</li>
<li>4: Parameter table version no. for international exchange (crrently no. 1).</li>
<li>5: Center id.</li>
<li>6: Model id.</li>
<li>7: Grid id.</li>
<li>8: Flag for gds/bms.</li>
<li>9: Indicator for parameter.</li>
<li>10: Indicator for type of level.</li>
<li>11-12: Height, pressure of level.</li>
<li>13: Year of century.</li>
<li>14: Month.</li>
<li>15: Day.</li>
<li>16: Hour.</li>
<li>17: Minute.</li>
<li>18: Forecast time unit.</li>
<li>19: P1 - pd of time.</li>
<li>20: P2 - pd of time.</li>
<li>21: Time range indicator.</li>
<li>22-23: Number in average.</li>
<li>24: Number misg from averages.</li>
<li>25: Century.</li>
<li>26: Indicator of parameter in locally re-defined parameter table..</li>
<li>27-28: Units decimal scale factor (d).</li>
<li>29-40: Reserved: need not be present.</li>
<li>41-NN: National use.</li>
<li>Error return:<ul>
<li>= 0 - No errors.</li>
<li>= 8 - Temp gds indicated, but no gds.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l00935">935</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a7031bf0f0b33cba1e5c2334224e735a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7031bf0f0b33cba1e5c2334224e735a1">&#9670;&nbsp;</a></span>ai083()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai083 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract information on unlisted grid to allow conversion to office note 84 format. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Bill Cavanaugh 1989-03-16 Added mercator &amp; lambert conformal processing.</li>
<li>Bill Cavanaugh 1989-07-12 Corrected change entered 89-03-16 reordering processing for lambert conformal and mercator grids.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MSGA</td><td>Array containing grib message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KPTR</td><td>Array containing storage for following parameters.<ul>
<li>1): Unused.</li>
<li>2): Unused.</li>
<li>3): Length of pds.</li>
<li>4): Length of gds.</li>
<li>5): Length of bms.</li>
<li>6): Length of bds.</li>
<li>7): Value of current byte.</li>
<li>8): Unused.</li>
<li>9): Grib start byte nr.</li>
<li>0): Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KPDS</td><td>Array containing pds elements.<ul>
<li>1): Id of center.</li>
<li>2): Model identification.</li>
<li>3): Grid identification.</li>
<li>4): Gds/bms flag.</li>
<li>5): Indicator of parameter.</li>
<li>6): Type of level.</li>
<li>7): Height/pressure , etc of level.</li>
<li>8): Year of century.</li>
<li>9): Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KGDS</td><td>Array containing gds elements..<ul>
<li>1): Data representation type.</li>
<li>Latitude/Longitude grids<ul>
<li>2): N(i) nr points on latitude circle.</li>
<li>3): N(j) nr points on longitude meridian.</li>
<li>4): La(1) latitude of origin.</li>
<li>5): Lo(1) longitude of origin.</li>
<li>6): Resolution flag.</li>
<li>7): La(2) latitude of extreme point.</li>
<li>8): Lo(2) longitude of extreme point.</li>
<li>9): Di longitudinal direction of increment.</li>
<li>10: Dj latitudinal direction of increment.</li>
<li>11: Scanning mode flag.</li>
</ul>
</li>
<li>Polar stereographic grids.<ul>
<li>2): N(i) nr points along lat circle.</li>
<li>3): N(j) nr points along lon circle.</li>
<li>4): La(1) latitude of origin.</li>
<li>5): Lo(1) longitude of origin.</li>
<li>6): Reserved.</li>
<li>7): Lov grid orientation.</li>
<li>8): Dx - x direction increment.</li>
<li>9): Dy - y direction increment.</li>
<li>10: Projection center flag.</li>
<li>11: Scanning mode.</li>
</ul>
</li>
<li>Spherical harmonic coefficients.<ul>
<li>2): J pentagonal resolution parameter.</li>
<li>3): K pentagonal resolution parameter.</li>
<li>4): M pentagonal resolution parameter.</li>
<li>5): Representation type.</li>
<li>6): Coefficient storage mode.</li>
</ul>
</li>
<li>Mercator grids.<ul>
<li>2): N(i) nr points on latitude circle.</li>
<li>3): N(j) nr points on longitude meridian.</li>
<li>4): La(1) latitude of origin.</li>
<li>5): Lo(1) longitude of origin.</li>
<li>6): Resolution flag.</li>
<li>7): La(2) latitude of last grid point.</li>
<li>8): Lo(2) longitude of last grid point.</li>
<li>9): Longit dir increment.</li>
<li>10: Latit dir increment.</li>
<li>11: Scanning mode flag.</li>
<li>12: Latitude intersection.</li>
</ul>
</li>
<li>Lambert conformal grids.<ul>
<li>2): Nx nr points along x-axis.</li>
<li>3): Ny nr points along y-axis.</li>
<li>4): La1 lat of origin (lower left).</li>
<li>5): Lo1 lon of origin (lower left).</li>
<li>6): Reserved.</li>
<li>7): Lov - orientation of grid.</li>
<li>8): Dx - x-dir increment.</li>
<li>9): Dy - y-dir increment.</li>
<li>10: Projection center flag.</li>
<li>11: Scanning mode flag.</li>
<li>12: Latin 1 - first lat from pole of secant cone inter.</li>
<li>13: Latin 2 - second lat from pole of secant cone inter. </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>KRET<ul>
<li>= 0</li>
<li>= 4 - DATA REPRESENTATION TYPE NOT CURRENTLY ACCEPTABLE</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l01158">1158</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a1ac753d2f7d6ce69d4e1412af879b7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac753d2f7d6ce69d4e1412af879b7b9">&#9670;&nbsp;</a></span>ai084()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai084 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(10)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(20)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(13)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(*)&#160;</td>
          <td class="paramname"><em>KBMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If bit map sec is available in grib message,extract for program use, otherwise generate an appropriate bit map. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Bill Cavanaugh 1989-02-24 Increment of position in bit map when bit map was included was handled improperly. corrected this data.</li>
<li>Bill Cavanaugh 1989-07-12 Altered method of calculating nr of bits in a bit map contained in grib message.</li>
<li>Bill Cavanaugh 1990-05-07 Brings all u.s. grids to revised values as of dec 89.</li>
<li>William Bostelman 1990-07-15 Modiifed to test the grib bds byte size to determine what ecmwf grid array size is to be specified.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MSGA</td><td>BUFR message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KPTR</td><td>Array containing storage for following parameters.<ul>
<li>1: Unused.</li>
<li>2: Unused.</li>
<li>3: Length of pds.</li>
<li>4: Length of gds.</li>
<li>5: Length of bms.</li>
<li>6: Length of bds.</li>
<li>7: Value of current byte.</li>
<li>8: Unused.</li>
<li>9: Grib start byte nr.</li>
<li>10: Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KPDS</td><td>ARRAY CONTAINING PDS ELEMENTS.<ul>
<li>1: Id of center.</li>
<li>2: Model identification.</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of parameter.</li>
<li>6: Type of level.</li>
<li>7: Height/pressure , etc of level.</li>
<li>8: Year of century.</li>
<li>9: Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kgds</td><td>array containing gds elements.<ul>
<li>1: data representation type</li>
<li>Latitude/longitude grids<ul>
<li>2: n(i) nr points on latitude circle</li>
<li>3: n(j) nr points on longitude meridian</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: resolution flag</li>
<li>7: la(2) latitude of extreme point</li>
<li>8: lo(2) longitude of extreme point</li>
<li>9: di longitudinal direction of increment</li>
<li>10: dj latitundinal direction of increment</li>
<li>11: scanning mode flag</li>
</ul>
</li>
<li>Polar stereographic grids<ul>
<li>2: n(i) nr points along lat circle</li>
<li>3: n(j) nr points along lon circle</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: reserved</li>
<li>7: lov grid orientation</li>
<li>8: dx - x direction increment</li>
<li>9: dy - y direction increment</li>
<li>10: projection center flag</li>
<li>11: scanning mode</li>
</ul>
</li>
<li>Spherical harmonic coefficients<ul>
<li>2: j pentagonal resolution parameter</li>
<li>3: k pentagonal resolution parameter</li>
<li>4: m pentagonal resolution parameter</li>
<li>5: representation type</li>
<li>6: coefficient storage mode</li>
</ul>
</li>
<li>Mercator grids<ul>
<li>2: n(i) nr points on latitude circle</li>
<li>3: n(j) nr points on longitude meridian</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: resolution flag</li>
<li>7: la(2) latitude of last grid point</li>
<li>8: lo(2) longitude of last grid point</li>
<li>9: longit dir increment</li>
<li>10: latit dir increment</li>
<li>11: scanning mode flag</li>
<li>12: latitude intersection</li>
</ul>
</li>
<li>Lambert conformal grids<ul>
<li>2: nx nr points along x-axis</li>
<li>3: ny nr points along y-axis</li>
<li>4: la1 lat of origin (lower left)</li>
<li>5: lo1 lon of origin (lower left)</li>
<li>6: reserved</li>
<li>7: lov - orientation of grid</li>
<li>8: dx - x-dir increment</li>
<li>9: dy - y-dir increment</li>
<li>10: projection center flag</li>
<li>11: scanning mode flag</li>
<li>12: latin 1 - first lat from pole of secant cone inter</li>
<li>13: latin 2 - second lat from pole of secant cone inter </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KBMS</td><td>Bitmap describing location of output elements.. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>KRET<ul>
<li>= 0 - No error.</li>
<li>= 5 - Grid not avail for center indicated.</li>
<li>= 10 - Incorrect center indicator.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l01615">1615</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a220caa94dfc83c8a73d224245c9469da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220caa94dfc83c8a73d224245c9469da">&#9670;&nbsp;</a></span>ai085()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai085 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(*)&#160;</td>
          <td class="paramname"><em>KBMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*)&#160;</td>
          <td class="paramname"><em>DATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract grib data and place into output arry in proper position. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Ralph Jones 1990-09-01 Change's for ansi fortran.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MSGA</td><td>Array containing grib message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KPTR</td><td>Array containing storage for following parameters.<ul>
<li>1: Unused.</li>
<li>2: Unused.</li>
<li>3: Length of pds.</li>
<li>4: Length of gds.</li>
<li>5: Length of bms.</li>
<li>6: Length of bds.</li>
<li>7: Value of current byte.</li>
<li>8: Unused.</li>
<li>9: Grib start byte nr.</li>
<li>10: Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KPDS</td><td>Array containing pds elements.<ul>
<li>1: Id of center.</li>
<li>2: Model identification.</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of parameter.</li>
<li>6: Type of level.</li>
<li>7: Height/pressure , etc of level.</li>
<li>8: Year of century.</li>
<li>9: Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KBMS</td><td>Bitmap describing location of output elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">DATA</td><td>Real array of gridded elements in grib message. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Error return.<ul>
<li>3 = Unpacked field is larger than 32768.</li>
<li>6 = Does not match nr of entries for this grib/grid.</li>
<li>7 = Number of bits in fill too large.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l02067">2067</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a7ecf84941a754cb8d8a328c77f038de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ecf84941a754cb8d8a328c77f038de0">&#9670;&nbsp;</a></span>ai085a()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai085a </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(*)&#160;</td>
          <td class="paramname"><em>KBMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*)&#160;</td>
          <td class="paramname"><em>DATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract grib data (version 1) and place into proper position in output array. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1989-11-20</li>
<li>Ralph Jones 1990-09-01 Change's for ansi fortran.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MSGA</td><td>Array containing grib message. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KPTR</td><td>Array containing storage for following parameters.<ul>
<li>1:Unused.</li>
<li>2:Unused.</li>
<li>3:Length of pds.</li>
<li>4:Length of gds.</li>
<li>5:Length of bms.</li>
<li>6:Length of bds.</li>
<li>7:Value of current byte.</li>
<li>8:Unused.</li>
<li>9:Grib start byte nr.</li>
<li>10:Grib/grid element count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KPDS</td><td>Array containing pds elements. (version 1)<ul>
<li>1: Id of center.</li>
<li>2: Model identification.</li>
<li>3: Grid identification.</li>
<li>4: Gds/bms flag.</li>
<li>5: Indicator of parameter.</li>
<li>6: Type of level.</li>
<li>7: Height/pressure , etc of level.</li>
<li>8: Year including century.</li>
<li>9: Month of year.</li>
<li>10: Day of month.</li>
<li>11: Hour of day.</li>
<li>12: Minute of hour.</li>
<li>13: Indicator of forecast time unit.</li>
<li>14: Time range 1.</li>
<li>15: Time range 2.</li>
<li>16: Time range flag.</li>
<li>17: Number included in average.</li>
<li>18: Version nr of grib specification.</li>
<li>19: Version nr of parameter table.</li>
<li>20: Total length of grib message (including section 0). </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KBMS</td><td>Bitmap describing location of output elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">DATA</td><td>Real array of gridded elements in grib message. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Structure of binary data section (version 1)<ul>
<li>1-3: LENGTH OF SECTION</li>
<li>4: PACKING FLAGS</li>
<li>5-6: SCALE FACTOR</li>
<li>7-10: REFERENCE VALUE</li>
<li>11: NUMBER OF BIT FOR EACH VALUE</li>
<li>12s-N: DATA</li>
</ul>
</dd>
<dd>
Error return:<ul>
<li>3 = Unpacked field is larger than 32768.</li>
<li>6 = Does not match nr of entries for this grib/grid.</li>
<li>7 = Number of bits in fill too large.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1989-11-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l02362">2362</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="ac73cef7b08d3fbe6549b6db66ae7b49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73cef7b08d3fbe6549b6db66ae7b49f">&#9670;&nbsp;</a></span>ai087()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ai087 </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>J</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(20)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(13)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To test when gds is available to see if size mismatch on existing grids (by center) is indicated. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-02-08</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">J</td><td>Size for indicated grid. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KPDS</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KGDS</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">KRET</td><td>Error return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>KRET = 9 - GDS indicates size mismatch with std grid.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-02-08 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l02630">2630</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
<a id="a8ca96c27a72b383415773ff07d2027dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca96c27a72b383415773ff07d2027dd">&#9670;&nbsp;</a></span>w3ai08()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine w3ai08 </td>
          <td>(</td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>MSGA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(*)&#160;</td>
          <td class="paramname"><em>KBMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*)&#160;</td>
          <td class="paramname"><em>DATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KPTR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack a grib field to the exact grid specified in the message, isolate the bit map and make the values of the product description sec (pds) and the grid description sec (gds) available in return arrays. </p>
<p>Program history log:</p><ul>
<li>Bill Cavanaugh 1988-01-20</li>
<li>Bill Cavanaugh 1990-05-11 To assure that all u.s. grids in the grib decoder comply with size changes in the december 1989 revisions.</li>
<li>Bill Cavanaugh 1990-05-24 Corrects searching an improper location for grib version number in grib messages.</li>
<li>William Bostelman 1990-07-15 Modiifed sub. ai084 so that it will test the grib bds byte size to determine what ecmwf grid array size is to be specified.</li>
<li>Ralph Jones 1990-09-14 Change's for ansi fortran, and pds version 1.</li>
<li>Ralph Jones 1990-09-23 Change's for cray cft77 fortran.</li>
<li>Ralph Jones 1990-12-05 Change's for grib nov. 21,1990.</li>
<li>Boi Vuong 2002-10-15 Replaced function ichar with mova2i.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msga</td><td>grib field - "grib" thru "7777" char*1 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>array containing data elements </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>(version 0):<ul>
<li>1: id of center</li>
<li>2: model identification</li>
<li>3: grid identification</li>
<li>4: gds/bms flag</li>
<li>5: indicator of parameter</li>
<li>6: type of level</li>
<li>7: height/pressure , etc of level</li>
<li>8: year including century</li>
<li>9: month of year</li>
<li>10: day of month</li>
<li>11: hour of day</li>
<li>12: minute of hour</li>
<li>13: indicator of forecast time unit</li>
<li>14: time range 1</li>
<li>15: time range 2</li>
<li>16: time range flag</li>
<li>17: number included in average</li>
<li>18: grib specification edition number </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">kpds</td><td>array containing pds elements. (version 1)<ul>
<li>1: id of center</li>
<li>2: model identification</li>
<li>3: grid identification</li>
<li>4: gds/bms flag</li>
<li>5: indicator of parameter</li>
<li>6: type of level</li>
<li>7: height/pressure , etc of level</li>
<li>8: year including century</li>
<li>9: month of year</li>
<li>10: day of month</li>
<li>11: hour of day</li>
<li>12: minute of hour</li>
<li>13: indicator of forecast time unit</li>
<li>14: time range 1</li>
<li>15: time range 2</li>
<li>16: time range flag</li>
<li>17: number included in average</li>
<li>18: version nr of grib specification</li>
<li>19: version nr of parameter table</li>
<li>20: total length of grib message (including section 0) </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kgds</td><td>array containing gds elements.<ul>
<li>1: data representation type</li>
<li>Latitude/longitude grids<ul>
<li>2: n(i) nr points on latitude circle</li>
<li>3: n(j) nr points on longitude meridian</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: resolution flag</li>
<li>7: la(2) latitude of extreme point</li>
<li>8: lo(2) longitude of extreme point</li>
<li>9: di longitudinal direction of increment</li>
<li>10: dj latitundinal direction of increment</li>
<li>11: scanning mode flag</li>
</ul>
</li>
<li>Polar stereographic grids<ul>
<li>2: n(i) nr points along lat circle</li>
<li>3: n(j) nr points along lon circle</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: reserved</li>
<li>7: lov grid orientation</li>
<li>8: dx - x direction increment</li>
<li>9: dy - y direction increment</li>
<li>10: projection center flag</li>
<li>11: scanning mode</li>
</ul>
</li>
<li>Spherical harmonic coefficients<ul>
<li>2: j pentagonal resolution parameter</li>
<li>3: k pentagonal resolution parameter</li>
<li>4: m pentagonal resolution parameter</li>
<li>5: representation type</li>
<li>6: coefficient storage mode</li>
</ul>
</li>
<li>Mercator grids<ul>
<li>2: n(i) nr points on latitude circle</li>
<li>3: n(j) nr points on longitude meridian</li>
<li>4: la(1) latitude of origin</li>
<li>5: lo(1) longitude of origin</li>
<li>6: resolution flag</li>
<li>7: la(2) latitude of last grid point</li>
<li>8: lo(2) longitude of last grid point</li>
<li>9: longit dir increment</li>
<li>10: latit dir increment</li>
<li>11: scanning mode flag</li>
<li>12: latitude intersection</li>
</ul>
</li>
<li>Lambert conformal grids<ul>
<li>2: nx nr points along x-axis</li>
<li>3: ny nr points along y-axis</li>
<li>4: la1 lat of origin (lower left)</li>
<li>5: lo1 lon of origin (lower left)</li>
<li>6: reserved</li>
<li>7: lov - orientation of grid</li>
<li>8: dx - x-dir increment</li>
<li>9: dy - y-dir increment</li>
<li>10: projection center flag</li>
<li>11: scanning mode flag</li>
<li>12: latin 1 - first lat from pole of secant cone inter</li>
<li>13: latin 2 - second lat from pole of secant cone inter </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kbms</td><td>- bitmap describing location of output elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kptr</td><td>- array containing storage for following parameters<ul>
<li>1: unused</li>
<li>2: unused</li>
<li>3: length of pds</li>
<li>4: length of gds</li>
<li>5: length of bms</li>
<li>6: length of bds</li>
<li>7: value of current byte</li>
<li>8: unused</li>
<li>9: grib start byte nr</li>
<li>10: grib/grid element count </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">kret</td><td>flag indicating quality of completion</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>values for return flag (kret)<ul>
<li>kret = 0 - normal return, no errors<ul>
<li>= 1 - 'grib' not found in first 100 chars</li>
<li>= 2 - '7777' not in correct location</li>
<li>= 3 - unpacked field is larger than 32768</li>
<li>= 4 - gds/ grid not one of currently accepted values</li>
<li>= 5 - grid not currently avail for center indicated</li>
<li>= 8 - temp gds indicated, but gds flag is off</li>
<li>= 9 - gds indicates size mismatch with std grid</li>
<li>= 10 - incorrect center indicator</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Cavanaugh </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1988-01-20 </dd></dl>

<p class="definition">Definition at line <a class="el" href="w3ai08_8f_source.html#l00148">148</a> of file <a class="el" href="w3ai08_8f_source.html">w3ai08.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="w3ai08_8f.html">w3ai08.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
